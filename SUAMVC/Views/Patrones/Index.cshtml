@model IEnumerable<SUADATOS.Patrone>
@using System.Text;

@{
    if (!WebSecurity.IsAuthenticated)
    {
        Response.Redirect("~/Home/Index");
    }
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var grid = new WebGrid(source: Model, canPage: false); 
}

@section Menu {
    <div>Catalogo de Patrones <img src="~/Content/Images/boss.png" width="15" height="15" /></div>
}
@using (Html.BeginForm())
{
    <p>
        Plaza: @Html.DropDownList("plazasId", "Seleccione Plaza")  

        <input type="submit" value="Consultar" class="btn btn-success" />
    </p>
}

@grid.GetHtml(
    columns:
        grid.Columns(
            grid.Column("registro", "Registro Patronal", @<text><div style='width: 8em'>@item.registro</div></text> , null, canSort: true),
            grid.Column("Plaza.cve", "ID Plaza", @<text><div style='width: 4em'>@item.Plaza.cve</div></text> , null, canSort: true),
            grid.Column("rfc", "RFC", @<text><div style='width: 9em'>@item.rfc</div></text> , null, canSort: true),
            grid.Column("nombre", "Nombre", @<text><div style='width: 32em'>@item.nombre</div></text> , null, canSort: true),
            grid.Column("telefono", "Teléfono", @<text><div style='width: 7em'>@item.telefono</div></text> , null, canSort: true),
            grid.Column("domicilio", "Domicilio", @<text><div style='width: 31em'>@item.domicilio</div></text> , null, canSort: true),
            grid.Column("zona", "Zona", null, null, true),
            grid.Column("inicioAfiliacion", "Ini.Afiliación", null, null, true),
            grid.Column("STyPS", "STyPS", null, null, true),
            grid.Column("delegacion", "Delegación", null, null, true),
            grid.Column("codigoPostal", "C. P.", @<text><div style='width: 5em'>@item.codigoPostal</div></text> , null, canSort: true),
           grid.Column(header: "Editar", format: @<text><a href="@Url.Action("Edit", "Patrones", new { id = item.id })">
                                    <img src="~/Content/Images/edit.png" alt="" style="border:none;" class="icon" />
                                </a></text>),
            grid.Column(header: "Consultar", format: @<text><a href="@Url.Action("Details", "Patrones", new { id = item.id })">
            <img src="~/Content/Images/list.png" alt="" style="border:none;" class="icon" />
        </a></text>)

                                ),
                            tableStyle: "table-sua table-striped tableSua"
            )


